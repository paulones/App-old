<ui:composition template="../template/template.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <ui:define name="title">Pessoa Física - #{pessoaFisicaBean.edit ? 'Alteração' :'Cadastro'}</ui:define>
    <ui:define name="metadata-components">
        <f:event type="preRenderComponent" listener="#{pessoaFisicaBean.init()}"/>
    </ui:define>
    <ui:define name="page-styles">
        <!-- BEGIN PAGE LEVEL PLUGIN STYLES -->
        <link rel="stylesheet" type="text/css" href="../assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css"/>
        <!-- END PAGE LEVEL PLUGIN STYLES -->
        <!-- BEGIN PAGE STYLES -->
        <!-- END PAGE STYLES -->
    </ui:define>
    <ui:define name="content">
        <!-- BEGIN FORM-->
        <h:form  prependId="false" id="form" class="form-horizontal">
            <!-- BEGIN PAGE HEADER-->
            <div class="row">
                <div class="col-md-12">
                    <!-- BEGIN PAGE TITLE e BREADCRUMB-->
                    <h3 class="page-title">
                        Pessoa Física <small>#{pessoaFisicaBean.edit ? 'Alteração' :'Cadastro'}</small>
                    </h3>
                    <ul class="page-breadcrumb breadcrumb">
                        <li>
                            <i class="fa fa-home"></i>
                            <a href="../home.xhtml">Home</a>
                            <i class="fa fa-angle-right"/>
                        </li>
                        <li>
                            <i class="fa fa-user"></i>
                            <a href="#">Pessoa Física</a>
                            <i class="fa fa-angle-right"></i>
                        </li>
                        <h:panelGroup rendered="#{pessoaFisicaBean.edit}">
                            <li>
                                <i class="fa fa-search"></i>
                                <a href="../pessoa-fisica/consultar.xhtml">Consultar</a>
                                <i class="fa fa-angle-right"></i>
                            </li>
                        </h:panelGroup>
                        <li>
                            <ui:fragment rendered="#{pessoaFisicaBean.edit}">
                                <i class="fa fa-edit"/>
                                <a href="cadastrar.xhtml?id=#{pessoaFisicaBean.pessoaFisica.id}">Alterar</a>
                            </ui:fragment>
                            <ui:fragment rendered="#{!pessoaFisicaBean.edit}">
                                <i class="fa fa-floppy-o"/>
                                <a href="cadastrar.xhtml">Cadastrar</a>
                            </ui:fragment>
                        </li>
                    </ul>
                    <!-- END PAGE TITLE e BREADCRUMB-->
                </div>
            </div>
            <!-- END PAGE HEADER-->
            <!-- BEGIN PAGE CONTENT -->
            <div class="tab-content">
                <div class="tab-pane active" id="tab_0">
                    <div class="portlet box blue-chambray">
                        <div class="portlet-title">
                            <div class="caption">
                                <i class="fa fa-user"></i>Dados #{pessoaFisicaBean.edit ? 'de ' :'da '} #{pessoaFisicaBean.edit ? pessoaFisicaBean.pessoaFisica.nome : 'Pessoa Física'}
                            </div>
                        </div>
                        <div class="portlet-body form">
                            <div class="form-body">
                                <div class="alert alert-danger form-error display-hide">
                                    <button class="close" data-close="alert"></button>
                                    Há alguns erros no formulário. Digite os dados corretamente.
                                </div>
                                <h:panelGroup layout="block" class="alert alert-info" rendered="#{pessoaFisicaBean.register eq 'fail'}">
                                    <button class="close" data-close="alert"></button>
                                    <h:messages layout="table" class="p-info"/> 
                                </h:panelGroup>
                                <h:panelGroup layout="block" class="alert alert-success" rendered="#{pessoaFisicaBean.register eq 'success'}">
                                    <button class="close" data-close="alert"></button>
                                    Cadastro realizado com sucesso! 
                                </h:panelGroup>
                                <span class="help-block">Campos com * são obrigatórios.</span>
                                <h3 class="form-section">Informações Pessoais</h3>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Nome <span class="required">
                                                    * </span>
                                            </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="name" autocomplete="off" value="#{pessoaFisicaBean.pessoaFisica.nome}"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">CPF </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="cpf" value="#{pessoaFisicaBean.pessoaFisica.cpf}" converter="maskConverter"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                </div>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Apelido 
                                            </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="alias" value="#{pessoaFisicaBean.pessoaFisica.apelido}"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">RG/Órgão Emissor/UF
                                            </label>
                                            <div class="col-md-4">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="rg" value="#{pessoaFisicaBean.pessoaFisica.rg}"/>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <h:inputText  class="form-control" maxlength="4" id="oe" value="#{pessoaFisicaBean.pessoaFisica.rgOrgaoEmissor}"/>
                                            </div>
                                            <div class="col-md-3">
                                                <h:selectOneMenu class="select2_category select2me form-control" p:placeholder="UF" id="rguf" tabindex="1" value="#{pessoaFisicaBean.pessoaFisica.rgUfFk}" converter="entityConverter">
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.estadoList}" var="estado" itemLabel="#{estado.uf}" itemValue="#{estado}"/>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                </div>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Sexo</label>
                                            <div class="col-md-9">
                                                <div class="radio-list" data-error-container="#form_gender_error">
                                                    <h:selectOneRadio id="gender" value="#{pessoaFisicaBean.pessoaFisica.sexo}">
                                                        <f:selectItem itemLabel="Masculino" itemValue="M"/>
                                                        <f:selectItem itemLabel="Feminino" itemValue="F"/>
                                                    </h:selectOneRadio>
                                                </div>
                                                <div id="form_gender_error">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Título de Eleitor
                                            </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="elector" value="#{pessoaFisicaBean.pessoaFisica.tituloDeEleitor}"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Nome do Pai
                                            </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="fathername" value="#{pessoaFisicaBean.pessoaFisica.nomeDoPai}"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Nacionalidade
                                            </label>
                                            <div class="col-md-9">
                                                <h:selectOneMenu class="select2_category select2me form-control" p:placeholder="Selecione..." id="nationality" value="#{pessoaFisicaBean.pessoaFisica.nacionalidadeFk}" tabindex="1" converter="entityConverter">
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.nacionalidadeList}" var="nacionalidade" itemLabel="#{nacionalidade.tipo}" itemValue="#{nacionalidade}"/>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Nome da Mãe
                                            </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText styleClass="form-control" id="mothername" value="#{pessoaFisicaBean.pessoaFisica.nomeDaMae}"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-6">
                                        <div class="form-group nat">
                                            <label class="control-label col-md-3">Naturalidade
                                            </label>
                                            <div class="col-md-3 natuf">
                                                <h:selectOneMenu styleClass="select2_category select2me form-control" p:placeholder="UF" id="natuf" value="#{pessoaFisicaBean.pessoaFisica.estadoFk}" tabindex="1" converter="entityConverter">
                                                    <f:ajax execute="@this" event="valueChange" listener="#{pessoaFisicaBean.getCidadesPeloEstado()}" render="city" />
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.estadoList}" var="estado" itemLabel="#{estado.uf}" itemValue="#{estado}"/>
                                                </h:selectOneMenu>
                                            </div>
                                            <h:panelGroup layout="block" class="col-md-6" id="city">
                                                <h:selectOneMenu class="select2_category select2me form-control natcity" p:placeholder="Cidade" id="natcity" value="#{pessoaFisicaBean.pessoaFisica.cidadeFk}" tabindex="1" converter="entityConverter">
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.cidadeNatList}" var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade}"/>
                                                </h:selectOneMenu>
                                            </h:panelGroup>
                                            <div class="col-md-9 natforeign display-hide">
                                                <h:selectOneMenu class="select2_category select2me form-control" p:placeholder="País" id="natforeign" value="#{pessoaFisicaBean.pessoaFisica.paisFk}" tabindex="1" converter="entityConverter">
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.paisList}" var="pais" itemLabel="#{pais.nome}" itemValue="#{pais}"/>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Estado Civil
                                            </label>
                                            <div class="col-md-9 ">
                                                <h:selectOneMenu class="select2_category select2me form-control estcivil" p:placeholder="Selecione..." id="estcivil" value="#{pessoaFisicaBean.pessoaFisica.estadoCivilFk}" tabindex="1" converter="entityConverter">
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.estadoCivilList}" var="estadoCivil" itemLabel="#{estadoCivil.situacao}" itemValue="#{estadoCivil}"/>
                                                </h:selectOneMenu>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">INSS
                                            </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" value="#{pessoaFisicaBean.pessoaFisica.inss}" id="inss"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group conjuge">
                                            <label class="control-label col-md-3">Nome do Cônjuge
                                            </label>
                                            <div class="col-md-9 ">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" value="#{pessoaFisicaBean.pessoaFisica.nomeDoConjuge}" id="conjuge"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                    </div>
                                </div>
                                <!--/row--><br/><br/>
                                <div class="row">
                                    <div class="col-md-9">
                                        <div class="form-group">
                                            <label class="control-label col-md-2">Observações Complementares
                                            </label>
                                            <div class="col-md-10">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputTextarea p:maxlength="300" class="form-control obs" rows="3" id="obs" value="#{pessoaFisicaBean.pessoaFisica.observacoes}"/>
                                                </div>
                                                <span class="help-block">
                                                    Informações gerais e/ou documentos importantes. Ex: Passaporte, Carteira da OAB, etc.</span>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <h3 class="form-section">Domicílio Eleitoral</h3>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Zona
                                            </label>
                                            <div class="col-md-9 ">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" value="#{pessoaFisicaBean.pessoaFisica.zona}" id="zone"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Seção
                                            </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" value="#{pessoaFisicaBean.pessoaFisica.secao}" id="section"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Local
                                            </label>
                                            <div class="col-md-9 ">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" value="#{pessoaFisicaBean.pessoaFisica.local}" id="local"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Estado/Cidade
                                            </label>
                                            <div class="col-md-3 eleuf">
                                                <h:selectOneMenu styleClass="select2_category select2me form-control" p:placeholder="UF" id="eleuf" value="#{pessoaFisicaBean.pessoaFisica.estadoEleitoralFk}" tabindex="1" converter="entityConverter">
                                                    <f:ajax execute="@this" event="valueChange" listener="#{pessoaFisicaBean.getCidadesPeloEstado()}" render="elector-city" />
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.estadoList}" var="estado" itemLabel="#{estado.uf}" itemValue="#{estado}"/>
                                                </h:selectOneMenu>
                                            </div>
                                            <h:panelGroup layout="block" class="col-md-6" id="elector-city">
                                                <h:selectOneMenu class="select2_category select2me form-control elecity" p:placeholder="Cidade" id="elecity" value="#{pessoaFisicaBean.pessoaFisica.cidadeEleitoralFk}" tabindex="1" converter="entityConverter">
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.cidadeEleList}" var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade}"/>
                                                </h:selectOneMenu>
                                            </h:panelGroup>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Endereço
                                            </label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" value="#{pessoaFisicaBean.pessoaFisica.endereco}" id="electoraddress"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                    </div>
                                </div>
                                <h3 class="form-section">Endereço</h3>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">CEP</label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="cep" value="#{pessoaFisicaBean.endereco.cep}" converter="maskConverter"/></div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Estado/Cidade
                                            </label>
                                            <div class="col-md-3">
                                                <h:selectOneMenu styleClass="select2_category select2me form-control" p:placeholder="UF" id="enduf" value="#{pessoaFisicaBean.endereco.estadoFk}" tabindex="1" converter="entityConverter">
                                                    <f:ajax execute="@this" class="ajaxCity" event="valueChange" listener="#{pessoaFisicaBean.getCidadesPeloEstado()}" render="city2" />
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.estadoList}" var="estado" itemLabel="#{estado.uf}" itemValue="#{estado}"/>
                                                </h:selectOneMenu>
                                            </div>
                                            <h:panelGroup layout="block" class="col-md-6" id="city2">
                                                <h:selectOneMenu class="select2_category select2me form-control endcity" p:placeholder="Cidade" id="endcity" value="#{pessoaFisicaBean.endereco.cidadeFk}" tabindex="1" converter="entityConverter">
                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                    <f:selectItems value="#{pessoaFisicaBean.cidadeEndList}" var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade}"/>
                                                </h:selectOneMenu>
                                            </h:panelGroup>
                                        </div>
                                    </div>
                                    <!--/span-->
                                </div>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Endereço</label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="address" value="#{pessoaFisicaBean.endereco.endereco}"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Número</label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" onkeyup="this.value = this.value.replace(/[^\d]/, '')" value="#{pessoaFisicaBean.endereco.numero}" id="number"/>
                                                </div> </div>
                                        </div>
                                    </div>
                                </div>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Complemento</label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" id="complement" value="#{pessoaFisicaBean.endereco.complemento}"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label class="control-label col-md-3">Bairro</label>
                                            <div class="col-md-9">
                                                <div class="input-icon right">
                                                    <i class="fa"></i>
                                                    <h:inputText class="form-control" value="#{pessoaFisicaBean.endereco.bairro}" id="neighborhood"/></div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--/span-->
                                </div>
                                <!--/row-->
                                <h3 class="form-section">Vínculos Empresariais</h3>
                                <!--/row-->
                                <div class="row">
                                    <div class="col-md-8">
                                        <div class="form-group">
                                            <label class="control-label col-md-2">CNPJ</label>
                                            <div class="col-md-10">
                                                <h:inputText p:type="hidden" class="cnpjVinculate select2_category form-control" id="pessoajuridica" value="#{pessoaFisicaBean.pjId}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <button  class="btn blue-chambray" id="vinculatePFJ">
                                            <i class="fa fa-plus-circle"></i> Vincular</button>
                                        <h:commandLink styleClass="vinculatePFJ">
                                            <f:ajax event="click" execute="pessoajuridica pessoaFisicaJuridica" listener="#{pessoaFisicaBean.vincularPessoaJuridica}" render="pessoaFisicaJuridica"/>
                                        </h:commandLink>
                                        <a href="javascript:;" class="btn blue-chambray pj-new">
                                            Novo cadastro <i class="fa fa-arrow-circle-right"></i></a>
                                    </div>
                                </div>
                                <!--/row-->
                                <span class="help-block">Clique no CNPJ para visualizar os dados da Pessoa Jurídica vinculada.</span>
                                <h:commandLink class="table-refresher-pfj">
                                    <f:ajax render="pessoaFisicaJuridica"/>
                                </h:commandLink>
                                <h:panelGroup id="pessoaFisicaJuridica">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <table class="table table-striped table-hover table-bordered vinculations">
                                                <thead>
                                                    <tr>
                                                        <th style="width:20%">
                                                            CNPJ
                                                        </th>
                                                        <th style="width:20%">
                                                            Função
                                                        </th>
                                                        <th style="width:20%">
                                                            Capital de Participação
                                                        </th>
                                                        <th style="width:18.5%">
                                                            Data de Início
                                                        </th>
                                                        <th style="width:18.5%">
                                                            Data de Término
                                                        </th>
                                                        <th style="width:3%">
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody class="rows-pfj">
                                                    <ui:repeat value="#{pessoaFisicaBean.pessoaFisicaJuridicaList}" var="pessoaFisicaJuridica" varStatus="status">
                                                        <ui:param value="#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(0,2)}.#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(2,5)}.#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(5,8)}/#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(8,12)}-#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(12)}" name="cnpj"/>
                                                        <tr>
                                                            <td>
                                                                <a href="javascript:;" class="pj-info">
                                                                    <h:inputText class="object-id display-hide" value="#{pessoaFisicaJuridica.pessoaJuridicaFk.id}"/>
                                                                    #{cnpj}<br/>#{pessoaFisicaJuridica.pessoaJuridicaFk.nome}
                                                                </a>
                                                            </td>
                                                            <td>
                                                                <h:selectOneMenu styleClass="select2_category select2me form-control funcao" p:placeholder="Selecione..." value="#{pessoaFisicaJuridica.funcaoFk}" tabindex="1" converter="entityConverter">
                                                                    <f:selectItem itemLabel="" itemValue=""/>
                                                                    <f:selectItems value="#{pessoaFisicaBean.funcaoList}" var="funcao" itemLabel="#{funcao.funcao}" itemValue="#{funcao}"/>
                                                                </h:selectOneMenu>
                                                            </td>
                                                            <td>
                                                                <h:inputText class="form-control input-small capital" value="#{pessoaFisicaJuridica.capitalDeParticipacao}" p:placeholder="%" />
                                                            </td>
                                                            <td>
                                                                <h:inputText class="form-control input-small date initial-date" value="#{pessoaFisicaJuridica.dataDeInicio}" p:placeholder="dd/mm/aaaa" />
                                                            </td>
                                                            <td>
                                                                <h:inputText  class="form-control input-small date final-date" p:placeholder="dd/mm/aaaa" value="#{pessoaFisicaJuridica.dataDeTermino}"/>
                                                            </td>
                                                            <td>
                                                                <h:commandLink class="delete-pfj">
                                                                    <f:ajax execute="@this" listener="#{pessoaFisicaBean.removerVinculo(status.index)}"/>
                                                                    <i class="glyphicon glyphicon-remove" style="color:red"/> </h:commandLink>
                                                            </td>
                                                        </tr>
                                                    </ui:repeat>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </h:panelGroup>
                                <div class="alert alert-danger date-error display-hide">
                                    <button class="close" data-close="alert"></button>
                                </div>
                                <h3 class="form-section">Vínculos Sociais</h3>
                                <div class="row">
                                    <div class="col-md-8">
                                        <div class="form-group">
                                            <label class="control-label col-md-2">CPF</label>
                                            <div class="col-md-10">
                                                <h:inputText p:type="hidden" class="cpfVinculate select2_category form-control" id="pessoafisica" value="#{pessoaFisicaBean.pfId}"/>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <button  class="btn blue-chambray" id="vinculatePFF">
                                            <i class="fa fa-plus-circle"></i> Vincular</button>
                                        <h:commandLink styleClass="vinculatePFF">
                                            <f:ajax event="click" execute="pessoafisica pessoaFisicaFisica" listener="#{pessoaFisicaBean.vincularPessoaFisica()}" render="pessoaFisicaFisica"/>
                                        </h:commandLink>
                                        <a href="javascript:;" class="btn blue-chambray pf-new">
                                            Novo cadastro <i class="fa fa-arrow-circle-right"></i></a>
                                    </div>
                                </div>
                                <!--/row-->
                                <span class="help-block">Clique no CPF para visualizar os dados da Pessoa Física vinculada.</span>
                                <h:commandLink class="table-refresher-pff">
                                    <f:ajax render="pessoaFisicaFisica"/>
                                </h:commandLink>
                                <h:panelGroup id="pessoaFisicaFisica">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <table class="table table-striped table-hover table-bordered vinculations">
                                                <thead>
                                                    <tr>
                                                        <th>
                                                            CPF
                                                        </th>
                                                        <th>
                                                            Vínculo <span style="color:#e02222">*</span>
                                                        </th>
                                                        <th style="width:3%">
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody class="rows-pff">
                                                    <ui:repeat value="#{pessoaFisicaBean.pessoaFisicaFisicaList}" var="pessoaFisicaFisica" varStatus="status">
                                                        <ui:fragment rendered="#{pessoaFisicaBean.pessoaFisica.id eq pessoaFisicaFisica.pessoaFisicaPrimariaFk.id}">
                                                            <ui:param value="#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.cpf.substring(0,3)}.#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.cpf.substring(3,6)}.#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.cpf.substring(6,9)}-#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.cpf.substring(9)}" name="cpf"/>
                                                            <tr>
                                                                <td>
                                                                    <a href="javascript:;" class="pf-info">
                                                                        <h:inputText class="object-id display-hide" value="#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.id}"/>
                                                                        #{cpf eq '..-' ? '-' : cpf}<br/>#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.nome}
                                                                    </a>
                                                                </td>
                                                                <td>
                                                                    <h:selectOneMenu styleClass="select2_category select2me form-control vinculosocial" p:placeholder="Selecione..." value="#{pessoaFisicaFisica.vinculoSocialFk}" tabindex="1" converter="entityConverter">
                                                                        <f:selectItem itemLabel="" itemValue=""/>
                                                                        <f:selectItems value="#{pessoaFisicaBean.vinculoSocialList}" var="vinculoSocial" itemLabel="#{vinculoSocial.vinculo}" itemValue="#{vinculoSocial}"/>
                                                                    </h:selectOneMenu>
                                                                </td>
                                                                <td>
                                                                    <h:commandLink class="delete-pff">
                                                                        <f:ajax execute="@this" listener="#{pessoaFisicaBean.removerVinculoSocial(index)}"/>
                                                                        <i class="glyphicon glyphicon-remove" style="color:red"/> </h:commandLink>
                                                                </td>
                                                            </tr>
                                                        </ui:fragment>
                                                        <ui:fragment rendered="#{pessoaFisicaBean.pessoaFisica.id eq pessoaFisicaFisica.pessoaFisicaSecundariaFk.id}">
                                                            <ui:param value="#{pessoaFisicaFisica.pessoaFisicaPrimariaFk.cpf.substring(0,3)}.#{pessoaFisicaFisica.pessoaFisicaPrimariaFk.cpf.substring(3,6)}.#{pessoaFisicaFisica.pessoaFisicaPrimariaFk.cpf.substring(6,9)}-#{pessoaFisicaFisica.pessoaFisicaPrimariaFk.cpf.substring(9)}" name="cpf"/>
                                                            <tr>
                                                                <td>
                                                                    <a href="javascript:;" class="pf-info">
                                                                        <h:inputText class="object-id display-hide" value="#{pessoaFisicaFisica.pessoaFisicaPrimariaFk.id}"/>
                                                                        #{cpf eq '..-' ? '-' : cpf}<br/>#{pessoaFisicaFisica.pessoaFisicaPrimariaFk.nome}
                                                                    </a>
                                                                </td>
                                                                <td>
                                                                    <h:selectOneMenu styleClass="select2_category select2me form-control vinculosocial" p:placeholder="Selecione..." value="#{pessoaFisicaFisica.vinculoSocialFk}" tabindex="1" converter="entityConverter">
                                                                        <f:selectItem itemLabel="" itemValue=""/>
                                                                        <f:selectItems value="#{pessoaFisicaBean.vinculoSocialList}" var="vinculoSocial" itemLabel="#{templateBean.setInversao(vinculoSocial.vinculo)}" itemValue="#{vinculoSocial}"/>
                                                                    </h:selectOneMenu>
                                                                </td>
                                                                <td>
                                                                    <h:commandLink class="delete-pff">
                                                                        <f:ajax execute="@this" listener="#{pessoaFisicaBean.removerVinculoSocial(index)}"/>
                                                                        <i class="glyphicon glyphicon-remove" style="color:red"/> </h:commandLink>
                                                                </td>
                                                            </tr>
                                                        </ui:fragment>
                                                    </ui:repeat>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </h:panelGroup>
                                <h3 class="form-section">Bens</h3>
                                <div class="alert alert-danger date-bem-error display-hide">
                                    <button class="close" data-close="alert"></button>
                                </div>
                                <h:panelGroup id="bem">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label class="control-label col-md-2">Descrição</label>
                                                <div class="col-md-10">
                                                    <div class="input-icon right">
                                                        <i class="fa"></i>
                                                        <h:inputText class="form-control" id="descricaobem" autocomplete="off" value="#{pessoaFisicaBean.bem.descricao}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label col-md-3">Tipo </label>
                                                <div class="col-md-9">
                                                    <h:selectOneMenu class="select2_category select2me form-control tipobem" p:placeholder="Selecione..." id="tipobem" tabindex="1" value="#{pessoaFisicaBean.bem.tipoBemFk}" converter="entityConverter">
                                                        <f:selectItem itemLabel="" itemValue=""/>
                                                        <f:selectItems value="#{pessoaFisicaBean.tipoBemList}" var="tipo" itemLabel="#{tipo.tipo}" itemValue="#{tipo}"/>
                                                    </h:selectOneMenu>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label class="control-label col-md-2">Endereço</label>
                                                <div class="col-md-10">
                                                    <div class="input-icon right">
                                                        <i class="fa"></i>
                                                        <h:inputText class="form-control" id="enderecobem" autocomplete="off" value="#{pessoaFisicaBean.bem.endereco}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label col-md-3">Valor</label>
                                                <div class="col-md-9">
                                                    <div class="input-icon right">
                                                        <i class="fa"></i>
                                                        <h:inputText class="form-control money" id="valorbem" value="#{pessoaFisicaBean.bem.valor}" converter="maskMoneyConverter"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label class="control-label col-md-4">Data de Aquisição</label>
                                                <div class="col-md-8">
                                                    <div class="input-icon right">
                                                        <i class="fa"></i>
                                                        <h:inputText class="form-control date aquisicao-date" id="aquisicaobem" p:placeholder="dd/mm/aaaa" value="#{pessoaFisicaBean.bem.dataDeAquisicao}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-2"></div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="control-label col-md-6">Data de Transferência / Extinção</label>
                                                <div class="col-md-6">
                                                    <div class="input-icon right">
                                                        <i class="fa"></i>
                                                        <h:inputText class="form-control date extincao-date" id="extincaobem" p:placeholder="dd/mm/aaaa" value="#{pessoaFisicaBean.bem.dataDeTransferenciaOuExtincao}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </h:panelGroup>
                                <div class="row">
                                    <div class="col-md-8">

                                    </div>
                                    <div class="col-md-4">
                                        <div class="col-md-8 col-md-offset-3">
                                            <button type="submit" class="btn blue-chambray" id="add-bem">
                                                <i class="fa fa-car"></i> Adicionar Bem
                                            </button>
                                            <h:commandLink class="add-bem">
                                                <f:ajax execute="bem" listener="#{pessoaFisicaBean.adicionarBem()}" render="accordion bem"></f:ajax>
                                            </h:commandLink>
                                        </div>
                                    </div>
                                </div>
                                <br/>
                                <h:commandLink class="bem-refresher">
                                    <f:ajax render="accordion"/>
                                </h:commandLink>
                                <h:panelGroup layout="block" class="panel-group accordion" id="accordion">
                                    <ui:repeat value="#{pessoaFisicaBean.bemList}" var="bem" varStatus="status">
                                        <ui:fragment rendered="#{bem.status eq 'A'}">
                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <h4 class="panel-title">
                                                        <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#accordion"  href="#collapse_#{status.index}">
                                                            #{bem.descricao eq null ? 'Bem sem descrição' : bem.descricao} </a>
                                                    </h4>
                                                </div>
                                                <div id="collapse_#{status.index}" class="panel-collapse collapse">
                                                    <div class="panel-body">
                                                        <div class="row">
                                                            <div class="col-md-8">
                                                                <div class="form-group">
                                                                    <label class="control-label col-md-2">Descrição</label>
                                                                    <div class="col-md-10">
                                                                        <div class="input-icon right">
                                                                            <i class="fa"></i>
                                                                            <h:inputText class="form-control bemdescricao" autocomplete="off" value="#{bem.descricao}"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="form-group">
                                                                    <label class="control-label col-md-3">Tipo </label>
                                                                    <div class="col-md-9">
                                                                        <h:selectOneMenu class="select2_category select2me form-control tipobem" p:placeholder="Selecione..." tabindex="1" value="#{bem.tipoBemFk}" converter="entityConverter">
                                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                                            <f:selectItems value="#{pessoaFisicaBean.tipoBemList}" var="tipo" itemLabel="#{tipo.tipo}" itemValue="#{tipo}"/>
                                                                        </h:selectOneMenu>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-8">
                                                                <div class="form-group">
                                                                    <label class="control-label col-md-2">Endereço</label>
                                                                    <div class="col-md-10">
                                                                        <div class="input-icon right">
                                                                            <i class="fa"></i>
                                                                            <h:inputText class="form-control enderecobem" autocomplete="off" value="#{bem.endereco}"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4">
                                                                <div class="form-group">
                                                                    <label class="control-label col-md-3">Valor</label>
                                                                    <div class="col-md-9">
                                                                        <div class="input-icon right">
                                                                            <i class="fa"></i>
                                                                            <h:inputText class="form-control valorbem money" value="#{bem.valor}" converter="maskMoneyConverter"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <div class="form-group">
                                                                    <label class="control-label col-md-4">Data de Aquisição</label>
                                                                    <div class="col-md-8">
                                                                        <div class="input-icon right">
                                                                            <i class="fa"></i>
                                                                            <h:inputText class="form-control aquisicaobem date aquisicao-date" p:placeholder="dd/mm/aaaa" value="#{bem.dataDeAquisicao}"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-2"></div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <label class="control-label col-md-6">Data de Transferência / Extinção</label>
                                                                    <div class="col-md-6">
                                                                        <div class="input-icon right">
                                                                            <i class="fa"></i>
                                                                            <h:inputText class="form-control extincaobem date extincao-date" value="#{bem.dataDeTransferenciaOuExtincao}" p:placeholder="dd/mm/aaaa"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-8"></div>
                                                            <div class="col-md-4">
                                                                <div class="col-md-8 col-md-offset-3">
                                                                    <h:commandLink class="btn blue-chambray delete-bem">
                                                                        <f:ajax execute="@this" listener="#{pessoaFisicaBean.removerBem(status.index)}"/>
                                                                        <i class="glyphicon glyphicon-remove"/> Remover Bem
                                                                    </h:commandLink>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </ui:fragment>
                                    </ui:repeat>
                                </h:panelGroup>
                            </div>
                            <div class="form-actions right">
                                <div class="row">
                                    <div class="col-md-6">
                                        <ui:fragment rendered="#{pessoaFisicaBean.edit}">
                                            <div class="col-md-offset-0 col-md-3">
                                                <a href="consultar.xhtml" class="btn default">
                                                    <i class="m-icon-swapleft"></i> Voltar
                                                </a>
                                            </div>
                                        </ui:fragment>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="col-md-offset-3 col-md-9">
                                            <button type="submit" class="submit-pf btn blue-chambray">
                                                <ui:fragment rendered="#{!pessoaFisicaBean.edit}"><i class="fa fa-save"></i> Cadastrar</ui:fragment>
                                                <ui:fragment rendered="#{pessoaFisicaBean.edit}"><i class="fa fa-edit"></i> Alterar</ui:fragment>
                                            </button>
                                        </div>
                                        <h:commandLink styleClass="register" action="#{pessoaFisicaBean.cadastrar}"/>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <!-- END PAGE CONTENT-->
        </h:form>
        <!-- END FORM-->
    </ui:define>
    <ui:define name="page-scripts">
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <!-- IMPORTANT! fullcalendar depends on jquery-ui-1.10.3.custom.min.js for drag e drop support -->
        <script type="text/javascript" src="../assets/global/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="../assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script>
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js" type="text/javascript"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.mask/0.9.0/jquery.mask.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-maskmoney/3.0.2/jquery.maskMoney.min.js"></script>
        <script type="text/javascript" src="../assets/global/plugins/jquery-validation/js/jquery.validate.js"></script>
        <script type="text/javascript" src="../assets/global/plugins/jquery-validation/js/localization/messages_pt_BR.js"></script>
        <script src="../assets/admin/pages/scripts/pf-cadastrar.js"  type="text/javascript"></script>
        <!-- END PAGE LEVEL SCRIPTS -->
        <script>
                                                        jQuery(document).ready(function() {
                                                            Metronic.init(); // init metronic core componets
                                                            Layout.init(); // init layout
                                                            PFCad.init();
                                                        });
        </script>
    </ui:define>
</ui:composition>
