<ui:composition template="../template/template.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <ui:define name="title">Pessoa Jurídica - Consulta</ui:define>
    <ui:define name="metadata-components">
        <f:event type="preRenderComponent" listener="#{pessoaJuridicaBean.init()}"/>
    </ui:define>
    <ui:define name="page-styles">
        <!-- BEGIN PAGE LEVEL PLUGIN STYLES -->
        <link rel="stylesheet" type="text/css" href="../assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css"/>
        <!-- END PAGE LEVEL PLUGIN STYLES -->
        <!-- BEGIN PAGE STYLES -->
        <style>
            .control-label{margin-top:6px !important}
            .button-delete-sucessao{color:red;float:right}
            .button-history-sucessao{color:#333;margin-right:5px;float:right}
            .height-top{height:75px}
            .width-expand{width:3%}
            .width-data{width:16%}
            .width-descricao{width:47%}
            .width-usuario{width:40%}
        </style>
        <!-- END PAGE STYLES -->
    </ui:define>
    <ui:define name="content">
        <h:form  id="form" prependId="false">
            <!-- BEGIN PAGE HEADER-->
            <div class="row">
                <div class="col-md-12">
                    <!-- BEGIN PAGE TITLE e BREADCRUMB-->
                    <h3 class="page-title">
                        Pessoa Jurídica <small>Consulta</small>
                    </h3>
                    <ul class="page-breadcrumb breadcrumb">
                        <li>
                            <i class="fa fa-home"></i>
                            <a href="../home.xhtml">Home</a>
                            <i class="fa fa-angle-right"/>
                        </li>
                        <li>
                            <i class="fa fa-institution"></i>
                            <a href="#">Pessoa Jurídica</a>
                            <i class="fa fa-angle-right"></i>
                        </li>
                        <li>
                            <i class="fa fa-search"/>
                            <a href="../pessoa-juridica/consultar.xhtml">Consultar</a>
                        </li>
                    </ul>
                    <!-- END PAGE TITLE e BREADCRUMB-->
                </div>
            </div>
            <!-- END PAGE HEADER-->
            <!-- BEGIN PAGE CONTENT-->
            <div class="row">
                <div class="col-md-12">
                    <!-- BEGIN EXAMPLE TABLE PORTLET-->
                    <div class="portlet box blue-chambray">
                        <div class="portlet-title">
                            <div class="caption">
                                <i class="fa fa-globe"></i>
                                Registro de Pessoas Jurídicas
                            </div>
                        </div>
                        <div class="portlet-body">
                            <h:panelGroup layout="block" class="alert alert-info"  rendered="#{pessoaJuridicaBean.redirect eq 'fail'}">
                                <button class="close" data-close="alert"></button>
                                Nenhum campo foi alterado.
                            </h:panelGroup>
                            <h:panelGroup layout="block" class="alert alert-success"  rendered="#{pessoaJuridicaBean.redirect eq 'success'}">
                                <button class="close" data-close="alert"></button>
                                Cadastro alterado com sucesso!
                            </h:panelGroup>
                            <h:panelGroup layout="block" class="alert alert-success"  rendered="#{pessoaJuridicaBean.register eq 'success'}">
                                <button class="close" data-close="alert"></button>
                                <h:messages layout="table" />
                            </h:panelGroup>
                            <span class="help-block">Para visualizar os dados de uma Pessoa Jurídica, clique no <span class="expand-example"></span>.</span>
                            <span class="help-block">Para alterar os dados de uma Pessoa Jurídica, clique no <span class="expand-example"></span> e, em seguida, clique no botão de alterar.</span>
                            <br/>
                            <table class="table table-striped table-bordered table-hover" id="table">
                                <thead>
                                    <tr>  
                                            <th style="width:3%"></th>
                                            <th>
                                                Nome
                                            </th>
                                            <th>
                                                CNPJ
                                            </th>
                                            <th>
                                                Nome Fantasia
                                            </th>
                                            <th>
                                                Tipo Empresarial
                                            </th>
                                            <th style="width:3%"></th>
                                            <th class="display-hide"></th>
                                            <th class="display-hide"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!-- END EXAMPLE TABLE PORTLET-->
                </div>
            </div>
            <h:inputHidden id="pj-id" value="#{pessoaJuridicaBean.pjId}"/>
            <h:commandLink class="info-delete" action="#{pessoaJuridicaBean.removerPessoaJuridica()}" />
            <h:commandLink class="info-refresher">
                <f:ajax execute="pj-id" listener="#{pessoaJuridicaBean.exibirInfo()}" render="info"/>
            </h:commandLink>
            <h:inputHidden id="pj-sucessao-id" value="#{pessoaJuridicaBean.pjsId}"/>
            <h:commandLink class="info-delete-sucessao" action="#{pessoaJuridicaBean.removerSucessao()}" />
            <h:commandLink class="info-history-sucessao">
                <f:ajax execute="pj-sucessao-id" listener="#{pessoaJuridicaBean.exibirHistoricoDaSucessao()}" render=":modal-history-pj-sucessao"/>
            </h:commandLink>
            <h:panelGroup id="info" class="display-hide">
                <h:panelGroup layout="block" class="portlet box blue-chambray" rendered="#{not empty pessoaJuridicaBean.enderecoPessoa.pessoa}">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="fa fa-institution"></i>Dados de #{pessoaJuridicaBean.enderecoPessoa.pessoa.nome}
                        </div>
                    </div>
                    <div class="portlet-body form">
                        <!-- BEGIN LISTA CONTENT-->
                        <div class="form-body">
                            <ul class="nav nav-tabs">
                                <li class="active">
                                    <a href="#tab_1_1_#{pessoaJuridicaBean.pessoaJuridica.cnpj}" data-toggle="tab">
                                        <i class="fa fa-list-ul"></i>  Informações Gerais </a>
                                </li>
                                <li>
                                    <a href="#tab_1_2_#{pessoaJuridicaBean.pessoaJuridica.cnpj}" data-toggle="tab">
                                        <i class="fa fa-exchange"></i> Sucessões Empresariais </a>
                                </li>
                                <li>
                                    <a href="#tab_1_3_#{pessoaJuridicaBean.pessoaJuridica.cnpj}" data-toggle="tab">
                                        <i class="fa fa-gavel"></i> Processos Envolvidos </a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane fade active in" id="tab_1_1_#{pessoaJuridicaBean.pessoaJuridica.cnpj}">
                                    <div layout="block" class="portlet box blue-chambray">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-list-ul"></i>Informações Gerais
                                            </div>
                                        </div>
                                        <div class="portlet-body form">
                                            <div class="form-actions top">
                                                <div class="row">
                                                    <div class="col-md-5">
                                                    </div>
                                                    <div class="col-md-7">
                                                        <div class="col-md-offset-4 col-md-9">
                                                            <h:commandLink class="btn default load-history">
                                                                <f:ajax listener="#{pessoaJuridicaBean.carregarHistorico(pessoaJuridicaBean.enderecoPessoa.pessoa.id)}" render=":modal-history-pj"/>
                                                                <i class="fa fa-history"></i> Histórico de Alterações
                                                            </h:commandLink>
                                                            <a href="cadastrar.xhtml?id=#{pessoaJuridicaBean.enderecoPessoa.pessoa.id}" class="btn blue-chambray"><i class="fa fa-edit"></i> Alterar</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- BEGIN LISTA CONTENT-->
                                            <div class="form-body">
                                                <h3 class="form-section">Informações Empresariais</h3>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Nome:</label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static nome">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.nome}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">CNPJ:</label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static cnpj">
                                                                    <ui:param value="#{pessoaJuridicaBean.enderecoPessoa.pessoa.cnpj.substring(0,2)}.#{pessoaJuridicaBean.enderecoPessoa.pessoa.cnpj.substring(2,5)}.#{pessoaJuridicaBean.enderecoPessoa.pessoa.cnpj.substring(5,8)}/#{pessoaJuridicaBean.enderecoPessoa.pessoa.cnpj.substring(8,12)}-#{pessoaJuridicaBean.enderecoPessoa.pessoa.cnpj.substring(12)}" name="cnpj"/>
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.cnpj eq null ? '-' : cnpj}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Nome Fantasia: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.nomeFantasia eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.nomeFantasia}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Tipo Empresarial: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.tipoEmpresarialFk.tipo eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.tipoEmpresarialFk.tipo}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Inscrição Estadual: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.inscricaoEstadual eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.inscricaoEstadual}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Inscrição Municipal: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.inscricaoMunicipal eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.inscricaoMunicipal}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Situação: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.situacao eq null ? '-' : 'A' ? 'Ativo' : 'Inativo'}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Motivo da Desativação: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.motivoDaDesativacao eq null ? '-' : motivoDaDesativacao}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Data de Criação: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.dataDeCriacao eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.dataDeCriacao}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Grupo Econômico: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.grupoEconomico eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.grupoEconomico}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">NIRE: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.nire eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.nire}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">CNAE: </label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.cnae eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.cnae}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-2">Atividade Principal:</label>
                                                            <div class="col-md-10">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.atividadePrincipal eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.atividadePrincipal}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-2">Atividades Secundárias:</label>
                                                            <div class="col-md-10">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.pessoa.atividadeSecundaria eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.pessoa.atividadeSecundaria}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--/row-->
                                                <h3 class="form-section">Endereço</h3>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">CEP:</label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    <ui:param name="cep" value="#{pessoaJuridicaBean.enderecoPessoa.endereco.cep.substring(0,5)}-#{pessoaJuridicaBean.enderecoPessoa.endereco.cep.substring(5,8)}" />
                                                                    #{pessoaJuridicaBean.enderecoPessoa.endereco.cep eq null ? '-' : cep}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Cidade/Estado:</label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.endereco.cidadeFk eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.endereco.cidadeFk.nome} #{pessoaJuridicaBean.enderecoPessoa.endereco.estadoFk eq null ? '' : '/'} #{pessoaJuridicaBean.enderecoPessoa.endereco.estadoFk eq null ? '' : pessoaJuridicaBean.enderecoPessoa.endereco.estadoFk.uf}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Endereço:</label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.endereco.endereco eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.endereco.endereco}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Número:</label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.endereco.numero eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.endereco.numero}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                </div>
                                                <!--/row-->
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Complemento:</label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.endereco.complemento eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.endereco.complemento}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label class="control-label col-md-4">Bairro:</label>
                                                            <div class="col-md-8">
                                                                <p class="form-control-static">
                                                                    #{pessoaJuridicaBean.enderecoPessoa.endereco.bairro eq null ? '-' : pessoaJuridicaBean.enderecoPessoa.endereco.bairro}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--/span-->
                                                </div>
                                                <!--/row-->
                                                <h3 class="form-section">Vínculos Administrativos</h3>
                                                <h4 class="help-block">Pessoa Física</h4>
                                                <br/>
                                                <span class="help-block">Clique no CPF para visualizar os dados da Pessoa Física vinculada.</span>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <table class="table table-striped table-hover table-bordered vinculations">
                                                            <thead>
                                                                <tr>
                                                                    <th style="width:20%;text-align:center">
                                                                        CPF
                                                                    </th>
                                                                    <th style="width:20%;text-align:center">
                                                                        Função
                                                                    </th>
                                                                    <th style="width:20%;text-align:center">
                                                                        Capital de Participação
                                                                    </th>
                                                                    <th style="width:18%;text-align:center">
                                                                        Data de Início
                                                                    </th>
                                                                    <th style="width:18%;text-align:center">
                                                                        Data de Término
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="rows">
                                                                <ui:repeat value="#{pessoaJuridicaBean.enderecoPessoa.pessoa.pessoaFisicaJuridicaCollection}" var="pessoaFisicaJuridica">
                                                                    <ui:param value="#{pessoaFisicaJuridica.pessoaFisicaFk.cpf.substring(0,3)}.#{pessoaFisicaJuridica.pessoaFisicaFk.cpf.substring(3,6)}.#{pessoaFisicaJuridica.pessoaFisicaFk.cpf.substring(6,9)}-#{pessoaFisicaJuridica.pessoaFisicaFk.cpf.substring(9)}" name="cpf"/>
                                                                    <tr>
                                                                        <td style="text-align:center">
                                                                            <a href="javascript:;" class="pf-info">
                                                                                <h:inputText class="object-id display-hide" value="#{pessoaFisicaJuridica.pessoaFisicaFk.id}"/>
                                                                                #{cpf eq '..-' ? '-' : cpf}<br/>#{pessoaFisicaJuridica.pessoaFisicaFk.nome}
                                                                            </a>
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaFisicaJuridica.funcaoFk.funcao  eq null ? '-': pessoaFisicaJuridica.funcaoFk.funcao}
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaFisicaJuridica.capitalDeParticipacao eq null ? '-' : pessoaFisicaJuridica.capitalDeParticipacao}#{pessoaFisicaJuridica.capitalDeParticipacao eq null ? '':'%'}
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaFisicaJuridica.dataDeInicio eq null ? '-' : pessoaFisicaJuridica.dataDeInicio}
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaFisicaJuridica.dataDeTermino  eq null ? '-' : pessoaFisicaJuridica.dataDeTermino}
                                                                        </td>
                                                                    </tr>
                                                                </ui:repeat>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <!--/row-->
                                                <br/>
                                                <h4 class="help-block">Pessoa Jurídica</h4>
                                                <br/>
                                                <span class="help-block">Clique no CNPJ para visualizar os dados da Pessoa Jurídica vinculada.</span>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <table class="table table-striped table-hover table-bordered vinculations">
                                                            <thead>
                                                                <tr>
                                                                    <th style="width:20%;text-align:center">
                                                                        CNPJ
                                                                    </th>
                                                                    <th style="width:20%;text-align:center">
                                                                        Capital de Participação
                                                                    </th>
                                                                    <th style="width:18%;text-align:center">
                                                                        Data de Início
                                                                    </th>
                                                                    <th style="width:18%;text-align:center">
                                                                        Data de Término
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="rows">
                                                                <ui:repeat value="#{pessoaJuridicaBean.enderecoPessoa.pessoa.pessoaJuridicaJuridicaCollection}" var="pessoaJuridicaJuridica">
                                                                    <ui:param value="#{pessoaJuridicaJuridica.pessoaJuridicaSecundariaFk.cnpj.substring(0,2)}.#{pessoaJuridicaJuridica.pessoaJuridicaSecundariaFk.cnpj.substring(2,5)}.#{pessoaJuridicaJuridica.pessoaJuridicaSecundariaFk.cnpj.substring(5,8)}/#{pessoaJuridicaJuridica.pessoaJuridicaSecundariaFk.cnpj.substring(8,12)}-#{pessoaJuridicaJuridica.pessoaJuridicaSecundariaFk.cnpj.substring(12)}" name="cnpj"/>
                                                                    <tr>
                                                                        <td style="text-align:center">
                                                                            <a href="javascript:;" class="pj-info">
                                                                                <h:inputText class="object-id display-hide" value="#{pessoaJuridicaJuridica.pessoaJuridicaSecundariaFk.id}"/>
                                                                                #{cnpj}<br/>#{pessoaJuridicaJuridica.pessoaJuridicaSecundariaFk.nome}
                                                                            </a>
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaJuridicaJuridica.capitalDeParticipacao eq null ? '-' : pessoaJuridicaJuridica.capitalDeParticipacao}#{pessoaJuridicaJuridica.capitalDeParticipacao eq null ? '':'%'}
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaJuridicaJuridica.dataDeInicio eq null ? '-' : pessoaJuridicaJuridica.dataDeInicio}
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaJuridicaJuridica.dataDeTermino  eq null ? '-' : pessoaJuridicaJuridica.dataDeTermino}
                                                                        </td>
                                                                    </tr>
                                                                </ui:repeat>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <h3 class="form-section">Participação em outras Empresas</h3>
                                                <span class="help-block">Clique no CNPJ para visualizar os dados da Pessoa Jurídica vinculada.</span>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <table class="table table-striped table-hover table-bordered vinculations">
                                                            <thead>
                                                                <tr>
                                                                    <th style="width:20%;text-align:center">
                                                                        CNPJ
                                                                    </th>
                                                                    <th style="width:20%;text-align:center">
                                                                        Capital de Participação
                                                                    </th>
                                                                    <th style="width:18%;text-align:center">
                                                                        Data de Início
                                                                    </th>
                                                                    <th style="width:18%;text-align:center">
                                                                        Data de Término
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="rows">
                                                                <ui:repeat value="#{pessoaJuridicaBean.enderecoPessoa.pessoa.pessoaJuridicaJuridicaCollection1}" var="pessoaJuridicaJuridica">
                                                                    <ui:param value="#{pessoaJuridicaJuridica.pessoaJuridicaPrimariaFk.cnpj.substring(0,2)}.#{pessoaJuridicaJuridica.pessoaJuridicaPrimariaFk.cnpj.substring(2,5)}.#{pessoaJuridicaJuridica.pessoaJuridicaPrimariaFk.cnpj.substring(5,8)}/#{pessoaJuridicaJuridica.pessoaJuridicaPrimariaFk.cnpj.substring(8,12)}-#{pessoaJuridicaJuridica.pessoaJuridicaPrimariaFk.cnpj.substring(12)}" name="cnpj"/>
                                                                    <tr>
                                                                        <td style="text-align:center">
                                                                            <a href="javascript:;" class="pj-info">
                                                                                <h:inputText class="object-id display-hide" value="#{pessoaJuridicaJuridica.pessoaJuridicaPrimariaFk.id}"/>
                                                                                #{cnpj}<br/>#{pessoaJuridicaJuridica.pessoaJuridicaPrimariaFk.nome}
                                                                            </a>
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaJuridicaJuridica.capitalDeParticipacao eq null ? '-' : pessoaJuridicaJuridica.capitalDeParticipacao}#{pessoaJuridicaJuridica.capitalDeParticipacao eq null ? '':'%'}
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaJuridicaJuridica.dataDeInicio eq null ? '-' : pessoaJuridicaJuridica.dataDeInicio}
                                                                        </td>
                                                                        <td style="text-align:center">
                                                                            #{pessoaJuridicaJuridica.dataDeTermino  eq null ? '-' : pessoaJuridicaJuridica.dataDeTermino}
                                                                        </td>
                                                                    </tr>
                                                                </ui:repeat>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <h3 class="form-section">Bens</h3>
                                                <h:panelGroup layout="block" class="alert alert-warning"  rendered="#{pessoaJuridicaBean.enderecoPessoa.bemList.isEmpty()}">
                                                    Nenhum bem registrado.
                                                </h:panelGroup>
                                                <h:panelGroup layout="block" class="panel-group accordion accordion-pjcon accordion-pjcon-#{pessoaJuridicaBean.enderecoPessoa.pessoa.id}">
                                                    <ui:repeat value="#{pessoaJuridicaBean.enderecoPessoa.bemList}" var="bem" varStatus="status">
                                                        <div class="panel panel-default">
                                                            <div class="panel-heading">
                                                                <h4 class="panel-title">
                                                                    <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent=".accordion-pjcon-#{pessoaJuridicaBean.enderecoPessoa.pessoa.id}"  href="#collapse_#{status.index}_#{pessoaJuridicaBean.enderecoPessoa.pessoa.id}">
                                                                        #{bem.descricao eq null ? 'Bem sem descrição' : bem.descricao} </a>
                                                                </h4>
                                                            </div>
                                                            <div id="collapse_#{status.index}_#{pessoaJuridicaBean.enderecoPessoa.pessoa.id}" class="panel-collapse collapse">
                                                                <div class="panel-body">
                                                                    <div class="row">
                                                                        <div class="col-md-8">
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-2">Descrição:</label>
                                                                                <div class="col-md-10">
                                                                                    <p class="form-control-bem-static">
                                                                                        #{bem.descricao eq null ? '-' : bem.descricao}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-3">Tipo:</label>
                                                                                <div class="col-md-9">
                                                                                    <p class="form-control-bem-static">
                                                                                        #{bem.tipoBemFk eq null ? '-' : bem.tipoBemFk.tipo}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-8">
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-2">Endereço:</label>
                                                                                <div class="col-md-10">
                                                                                    <p class="form-control-bem-static">
                                                                                        #{bem.endereco eq null ? '-' : bem.endereco}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-3">Valor:</label>
                                                                                <div class="col-md-9">
                                                                                    <p class="form-control-bem-static money">
                                                                                        #{bem.valor eq null ? '-' : bem.valor}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-8">
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-2">Aquisição:</label>
                                                                                <div class="col-md-8">
                                                                                    <p class="form-control-bem-static">
                                                                                        #{bem.dataDeAquisicao eq null ? '-' : bem.dataDeAquisicao}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <div class="form-group">
                                                                                <label class="control-label col-md-3 col-md-pull-1">Extinção:</label>
                                                                                <div class="col-md-9">
                                                                                    <p class="form-control-bem-static">
                                                                                        #{bem.dataDeTransferenciaOuExtincao eq null ? '-' : bem.dataDeTransferenciaOuExtincao}
                                                                                    </p>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ui:repeat>
                                                </h:panelGroup>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tab_1_2_#{pessoaJuridicaBean.pessoaJuridica.cnpj}">
                                    <div layout="block" class="portlet box blue-chambray">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-exchange"></i>Sucessões Empresariais
                                            </div>
                                        </div>
                                        <div class="portlet-body form">
                                            <div class="form-actions top height-top">
                                                <div class="row">
                                                    <div class="col-md-5">
                                                    </div>
                                                    <div class="col-md-7">
                                                        <div class="col-md-offset-4 col-md-9">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- BEGIN LISTA CONTENT-->
                                            <div class="form-body nestable-list">
                                                <span class="help-block">Para visualizar os dados de uma empresa, clique na <i class="fa fa-search"></i>.</span>
                                                <span class="help-block">Para acessar o histórico de uma sucessão, clique no <i class="fa fa-history"></i>.</span>
                                                <span class="help-block">Para visualizar os dados de uma sucessão, clique no nome da empresa.</span>
                                                <br/>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="portlet-body">
                                                            <div class="dd" id="nestable_list">
                                                                <ol class="dd-list">
                                                                </ol>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <h3 class="form-section"></h3> 
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="tab_1_3_#{pessoaJuridicaBean.pessoaJuridica.cnpj}">
                                    <div layout="block" class="portlet box blue-chambray">
                                        <div class="portlet-title">
                                            <div class="caption">
                                                <i class="fa fa-gavel"></i>Processos Envolvidos
                                            </div>
                                        </div>
                                        <div class="portlet-body form">
                                            <div class="form-actions top height-top">
                                                <div class="row">
                                                    <div class="col-md-5">
                                                    </div>
                                                    <div class="col-md-7">
                                                        <div class="col-md-offset-4 col-md-9">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- BEGIN LISTA CONTENT-->
                                            <div class="form-body">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <!-- BEGIN SAMPLE TABLE PORTLET-->
                                                        <table class="table table-striped table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>
                                                                        #
                                                                    </th>
                                                                    <th style="width:20%">
                                                                        Nº do Processo
                                                                    </th>
                                                                    <th style="width:20%">
                                                                        Nº da CDA
                                                                    </th>
                                                                    <th style="width:20%">
                                                                        Comarca
                                                                    </th>
                                                                    <th style="width:20%">
                                                                        Situação
                                                                    </th>
                                                                    <th>
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <ui:repeat value="#{pessoaJuridicaBean.processoJudicialList}" var="processoJudicial" varStatus="status">
                                                                    <tr>
                                                                        <td>
                                                                            #{status.index + 1}
                                                                        </td>
                                                                        <td>
                                                                            #{processoJudicial.numeroDoProcesso}
                                                                        </td>
                                                                        <td>
                                                                            #{processoJudicial.numeroDaCda}
                                                                        </td>
                                                                        <td>
                                                                            #{processoJudicial.comarca}
                                                                        </td>
                                                                        <td>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Andamento'}"><span class="label label-sm label-warning">#{processoJudicial.situacaoFk.situacao}</span></ui:fragment>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Arquivado'}"><span class="label label-sm label-info">#{processoJudicial.situacaoFk.situacao}</span></ui:fragment>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Extinto'}"><span class="label label-sm label-danger">#{processoJudicial.situacaoFk.situacao}</span></ui:fragment>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Julgado'}"><span class="label label-sm label-success">#{processoJudicial.situacaoFk.situacao}</span></ui:fragment>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Suspenso'}"><span class="label label-sm label-default">#{processoJudicial.situacaoFk.situacao}</span></ui:fragment>
                                                                        </td>
                                                                        <td>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Andamento'}"><a href="javascript:;" class="btn default btn-xs yellow-stripe pjud-info"><h:inputText class="object-id display-hide" value="#{processoJudicial.id}"/>Visualizar</a></ui:fragment>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Arquivado'}"><a href="javascript:;" class="btn default btn-xs blue-stripe pjud-info"><h:inputText class="object-id display-hide" value="#{processoJudicial.id}"/>Visualizar</a></ui:fragment>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Extinto'}"><a href="javascript:;" class="btn default btn-xs red-stripe pjud-info"><h:inputText class="object-id display-hide" value="#{processoJudicial.id}"/>Visualizar</a></ui:fragment>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Julgado'}"><a href="javascript:;" class="btn default btn-xs green-stripe pjud-info"><h:inputText class="object-id display-hide" value="#{processoJudicial.id}"/>Visualizar</a></ui:fragment>
                                                                            <ui:fragment rendered="#{processoJudicial.situacaoFk.situacao eq 'Suspenso'}"><a href="javascript:;" class="btn default btn-xs purple-stripe pjud-info"><h:inputText class="object-id display-hide" value="#{processoJudicial.id}"/>Visualizar</a></ui:fragment>
                                                                        </td>
                                                                    </tr>
                                                                </ui:repeat>
                                                            </tbody>
                                                        </table>
                                                        <!-- END SAMPLE TABLE PORTLET-->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END LISTA CONTENT-->
                    </div>
                </h:panelGroup>
            </h:panelGroup>
        </h:form>
        <!-- END PAGE CONTENT-->
        <!-- /.modal -->
        <a class="btn default modal-history-pj display-hide" data-toggle="modal" href="#largehistorypj"></a>
        <ui:include src="../modal/historico/pessoa-juridica.xhtml"></ui:include>
        <a class="btn default display-hide delete-modal-activator" data-toggle="modal" href="#static"></a>
        <div id="static" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title"><i class="fa fa-exclamation-triangle"></i> Remover Pessoa Jurídica <i class="fa fa-exclamation-triangle"></i></h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            Tem certeza que deseja remover esta Pessoa Jurídica?
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" data-dismiss="modal" class="btn default cancel">Cancelar</button>
                        <button type="button" data-dismiss="modal" class="btn blue-chambray remove">Remover</button>
                    </div>
                </div>
            </div>
        </div>
        <a class="btn default display-hide delete-sucessao-modal-activator" data-toggle="modal" href="#static-sucessao-delete"></a>
        <div id="static-sucessao-delete" class="modal fade" tabindex="-1" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title"><i class="fa fa-exclamation-triangle"></i> Remover Sucessão Empresarial <i class="fa fa-exclamation-triangle"></i></h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            Tem certeza que deseja remover o vínculo entre essas duas empresas?
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" data-dismiss="modal" class="btn default cancel-sucessao">Cancelar</button>
                        <button type="button" data-dismiss="modal" class="btn blue-chambray remove-sucessao">Remover</button>
                    </div>
                </div>
            </div>
        </div>
        <a class="btn default display-hide show-history-modal-activator" data-toggle="modal" href="#largepjs-history"></a>
        <ui:include src="../modal/historico/pessoa-juridica-sucessao.xhtml"></ui:include>
    </ui:define>
    <ui:define name="page-scripts">
        <!-- BEGIN PAGE LEVEL PLUGINS -->
        <!-- IMPORTANT! fullcalendar depends on jquery-ui-1.10.3.custom.min.js for drag e drop support -->
        <script type="text/javascript" src="../assets/global/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
        <script type="text/javascript" src="../assets/global/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script>
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN PAGE LEVEL SCRIPTS -->
        <script src="../assets/admin/pages/scripts/pj-consultar.js" type="text/javascript"></script>
        <!-- END PAGE LEVEL SCRIPTS -->
        <script>
            jQuery(document).ready(function() {
                Metronic.init(); // init metronic core componets
                Layout.init(); // init layout
                PJCon.init();
            });
        </script>
    </ui:define>
</ui:composition>
