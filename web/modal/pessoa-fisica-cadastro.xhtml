<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:form prependId="false" id="modal_pf_form" class="form-horizontal">
        <h:panelGroup id="modal-new-pf">
            <h:panelGroup layout="block" class="modal fade bs-modal-lg" id="largenewpf" p:data-backdrop="static" p:data-keyboard="false" p:tabindex="-1">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-body modal-pessoa">
                            <div class="portlet box blue-chambray">
                                <div class="portlet-title">
                                    <div class="caption">
                                        <i class="fa fa-user"></i>Dados da Pessoa Física
                                    </div>
                                </div>
                                <div class="portlet-body form">
                                    <div class="form-body">
                                        <div class="alert alert-danger form-error display-hide">
                                            <button class="close" data-close="alert"></button>
                                            Há alguns erros no formulário. Digite os dados corretamente.
                                        </div>
                                        <span class="help-block">Campos com * são obrigatórios.</span>
                                        <h3 class="form-section">Informações Pessoais</h3>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Nome <span class="required">
                                                            * </span>
                                                    </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_name" autocomplete="off" value="#{templateBean.enderecoPessoaFisica.pessoa.nome}"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">CPF </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_cpf" value="#{templateBean.enderecoPessoaFisica.pessoa.cpf}" converter="maskConverter"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                        </div>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Apelido 
                                                    </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_alias" value="#{templateBean.enderecoPessoaFisica.pessoa.apelido}"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">RG/Órgão Emissor/UF
                                                    </label>
                                                    <div class="col-md-4">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_rg" value="#{templateBean.enderecoPessoaFisica.pessoa.rg}"/>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <h:inputText  class="form-control" maxlength="4" id="modal_pf_oe" value="#{templateBean.enderecoPessoaFisica.pessoa.rgOrgaoEmissor}"/>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <h:selectOneMenu class="select2_category select2me form-control" p:placeholder="UF" id="modal_pf_rguf" tabindex="1" value="#{templateBean.enderecoPessoaFisica.pessoa.rgUfFk}" converter="entityConverter">
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.estadoList}" var="estado" itemLabel="#{estado.uf}" itemValue="#{estado}"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                        </div>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Sexo</label>
                                                    <div class="col-md-9">
                                                        <div class="radio-list" data-error-container="#form_gender_error">
                                                            <h:selectOneRadio id="modal_pf_gender" value="#{templateBean.enderecoPessoaFisica.pessoa.sexo}">
                                                                <f:selectItem itemLabel="Masculino" itemValue="M"/>
                                                                <f:selectItem itemLabel="Feminino" itemValue="F"/>
                                                            </h:selectOneRadio>
                                                        </div>
                                                        <div id="form_gender_error">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Título de Eleitor
                                                    </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_elector" value="#{templateBean.enderecoPessoaFisica.pessoa.tituloDeEleitor}"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Nome do Pai
                                                    </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_fathername" value="#{templateBean.enderecoPessoaFisica.pessoa.nomeDoPai}"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Nacionalidade
                                                    </label>
                                                    <div class="col-md-9">
                                                        <h:selectOneMenu class="select2_category select2me form-control" p:placeholder="Selecione..." id="modal_pf_nationality" value="#{templateBean.enderecoPessoaFisica.pessoa.nacionalidadeFk}" tabindex="1" converter="entityConverter">
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.nacionalidadeList}" var="nacionalidade" itemLabel="#{nacionalidade.tipo}" itemValue="#{nacionalidade}"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Nome da Mãe
                                                    </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText styleClass="form-control" id="modal_pf_mothername" value="#{templateBean.enderecoPessoaFisica.pessoa.nomeDaMae}"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">
                                                <div class="form-group nat">
                                                    <label class="control-label col-md-3">Naturalidade
                                                    </label>
                                                    <div class="col-md-3 natuf">
                                                        <h:selectOneMenu styleClass="select2_category select2me form-control" p:placeholder="UF" id="modal_pf_natuf" value="#{templateBean.enderecoPessoaFisica.pessoa.estadoFk}" tabindex="1" converter="entityConverter">
                                                            <f:ajax execute="@this" event="valueChange" listener="#{templateBean.getCidadesPeloEstado()}" render="modal_pf_city" />
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.estadoList}" var="estado" itemLabel="#{estado.uf}" itemValue="#{estado}"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                    <h:panelGroup layout="block" class="col-md-6" id="modal_pf_city">
                                                        <h:selectOneMenu class="select2_category select2me form-control modal_pf_natcity" p:placeholder="Cidade" id="modal_pf_natcity" value="#{templateBean.enderecoPessoaFisica.pessoa.cidadeFk}" tabindex="1" converter="entityConverter">
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.cidadeNatList}" var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade}"/>
                                                        </h:selectOneMenu>
                                                    </h:panelGroup>
                                                    <div class="col-md-9 modal_pf_natforeign display-hide">
                                                        <h:selectOneMenu class="select2_category select2me form-control" p:placeholder="País" id="modal_pf_natforeign" value="#{templateBean.enderecoPessoaFisica.pessoa.paisFk}" tabindex="1" converter="entityConverter">
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.paisList}" var="pais" itemLabel="#{pais.nome}" itemValue="#{pais}"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Estado Civil
                                                    </label>
                                                    <div class="col-md-9 ">
                                                        <h:selectOneMenu class="select2_category select2me form-control modal_pf_estcivil" p:placeholder="Selecione..." id="modal_pf_estcivil" value="#{templateBean.enderecoPessoaFisica.pessoa.estadoCivilFk}" tabindex="1" converter="entityConverter">
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.estadoCivilList}" var="estadoCivil" itemLabel="#{estadoCivil.situacao}" itemValue="#{estadoCivil}"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">INSS
                                                    </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" value="#{templateBean.enderecoPessoaFisica.pessoa.inss}" id="modal_pf_inss"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group modal_pf_conjuge">
                                                    <label class="control-label col-md-3">Nome do Cônjuge
                                                    </label>
                                                    <div class="col-md-9 ">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" value="#{templateBean.enderecoPessoaFisica.pessoa.nomeDoConjuge}" id="modal_pf_conjuge"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                            </div>
                                        </div>
                                        <!--/row--><br/><br/>
                                        <div class="row">
                                            <div class="col-md-9">
                                                <div class="form-group">
                                                    <label class="control-label col-md-2">Observações Complementares
                                                    </label>
                                                    <div class="col-md-10">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputTextarea p:maxlength="300" class="form-control modal_pf_obs" rows="3" id="modal_pf_obs" value="#{templateBean.enderecoPessoaFisica.pessoa.observacoes}"/>
                                                        </div>
                                                        <span class="help-block">
                                                            Informações gerais e/ou documentos importantes. Ex: Passaporte, Carteira da OAB, etc.</span>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                        <h3 class="form-section">Domicílio Eleitoral</h3>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Zona
                                                    </label>
                                                    <div class="col-md-9 ">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" value="#{templateBean.enderecoPessoaFisica.pessoa.zona}" id="modal_pf_zone"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Seção
                                                    </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" value="#{templateBean.enderecoPessoaFisica.pessoa.secao}" id="modal_pf_section"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Local
                                                    </label>
                                                    <div class="col-md-9 ">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" value="#{templateBean.enderecoPessoaFisica.pessoa.local}" id="modal_pf_local"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Estado/Cidade
                                                    </label>
                                                    <div class="col-md-3 eleuf">
                                                        <h:selectOneMenu styleClass="select2_category select2me form-control" p:placeholder="UF" id="modal_pf_eleuf" value="#{templateBean.enderecoPessoaFisica.pessoa.estadoEleitoralFk}" tabindex="1" converter="entityConverter">
                                                            <f:ajax execute="@this" event="valueChange" listener="#{templateBean.getCidadesPeloEstado()}" render="modal_pf_elector-city" />
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.estadoList}" var="estado" itemLabel="#{estado.uf}" itemValue="#{estado}"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                    <h:panelGroup layout="block" class="col-md-6" id="modal_pf_elector-city">
                                                        <h:selectOneMenu class="select2_category select2me form-control modal_pf_elecity" p:placeholder="Cidade" id="modal_pf_elecity" value="#{templateBean.enderecoPessoaFisica.pessoa.cidadeEleitoralFk}" tabindex="1" converter="entityConverter">
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.cidadeEleList}" var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade}"/>
                                                        </h:selectOneMenu>
                                                    </h:panelGroup>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Endereço
                                                    </label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" value="#{templateBean.enderecoPessoaFisica.pessoa.endereco}" id="modal_pf_electoraddress"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                            </div>
                                        </div>
                                        <h3 class="form-section">Endereço</h3>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">CEP</label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_cep" value="#{templateBean.enderecoPessoaFisica.endereco.cep}" converter="maskConverter"/></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Estado/Cidade
                                                    </label>
                                                    <div class="col-md-3">
                                                        <h:selectOneMenu styleClass="select2_category select2me form-control" p:placeholder="UF" id="modal_pf_enduf" value="#{templateBean.enderecoPessoaFisica.endereco.estadoFk}" tabindex="1" converter="entityConverter">
                                                            <f:ajax execute="@this" class="ajaxCity" event="valueChange" listener="#{templateBean.getCidadesPeloEstado()}" render="modal_pf_city2" />
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.estadoList}" var="estado" itemLabel="#{estado.uf}" itemValue="#{estado}"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                    <h:panelGroup layout="block" class="col-md-6" id="modal_pf_city2">
                                                        <h:selectOneMenu class="select2_category select2me form-control modal_pf_endcity" p:placeholder="Cidade" id="modal_pf_endcity" value="#{templateBean.enderecoPessoaFisica.endereco.cidadeFk}" tabindex="1" converter="entityConverter">
                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                            <f:selectItems value="#{templateBean.cidadeEndList}" var="cidade" itemLabel="#{cidade.nome}" itemValue="#{cidade}"/>
                                                        </h:selectOneMenu>
                                                    </h:panelGroup>
                                                </div>
                                            </div>
                                            <!--/span-->
                                        </div>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Endereço</label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_address" value="#{templateBean.enderecoPessoaFisica.endereco.endereco}"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Número</label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" onkeyup="this.value = this.value.replace(/[^\d]/, '')" value="#{templateBean.enderecoPessoaFisica.endereco.numero}" id="modal_pf_number"/>
                                                        </div> </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Complemento</label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" id="modal_pf_complement" value="#{templateBean.enderecoPessoaFisica.endereco.complemento}"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="control-label col-md-3">Bairro</label>
                                                    <div class="col-md-9">
                                                        <div class="input-icon right">
                                                            <i class="fa"></i>
                                                            <h:inputText class="form-control" value="#{templateBean.enderecoPessoaFisica.endereco.bairro}" id="modal_pf_neighborhood"/></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!--/span-->
                                        </div>
                                        <!--/row-->
                                        <h3 class="form-section">Vínculos Empresariais</h3>
                                        <!--/row-->
                                        <div class="row">
                                            <div class="col-md-10">
                                                <div class="form-group">
                                                    <label class="control-label col-md-2">CNPJ</label>
                                                    <div class="col-md-10">
                                                        <h:inputText p:type="hidden" class="modal_pf_cnpjVinculate select2_category form-control" id="modal_pf_pessoajuridica" value="#{templateBean.pjVId}"/>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <button  class="btn blue-chambray" id="modal_pf_vinculatePFJ">
                                                    <i class="fa fa-plus-circle"></i> Vincular</button>
                                                <h:commandLink styleClass="modal_pf_vinculatePFJ">
                                                    <f:ajax event="click" execute="modal_pf_pessoajuridica modal_pf_pessoaFisicaJuridica" listener="#{templateBean.vincularPessoaJuridica}" render="modal_pf_pessoaFisicaJuridica"/>
                                                </h:commandLink>
                                            </div>
                                        </div>
                                        <!--/row-->
                                        <h:commandLink class="modal_pf_table-refresher-pfj">
                                            <f:ajax render="modal_pf_pessoaFisicaJuridica"/>
                                        </h:commandLink>
                                        <h:panelGroup id="modal_pf_pessoaFisicaJuridica">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <table class="table table-striped table-hover table-bordered modal_pf_vinculations" >
                                                        <thead>
                                                            <tr>
                                                                <th style="width:20%">
                                                                    CNPJ
                                                                </th>
                                                                <th style="width:20%">
                                                                    Função
                                                                </th>
                                                                <th style="width:20%">
                                                                    Capital de Participação
                                                                </th>
                                                                <th style="width:18.5%">
                                                                    Data de Início
                                                                </th>
                                                                <th style="width:18.5%">
                                                                    Data de Término
                                                                </th>
                                                                <th style="width:3%">
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="modal_pf_rows-pfj">
                                                            <ui:repeat value="#{templateBean.pessoaFisicaJuridicaList}" var="pessoaFisicaJuridica" varStatus="status">
                                                                <ui:param value="#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(0,2)}.#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(2,5)}.#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(5,8)}/#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(8,12)}-#{pessoaFisicaJuridica.pessoaJuridicaFk.cnpj.substring(12)}" name="cnpj"/>
                                                                <tr>
                                                                    <td>
                                                                        #{cnpj}<br/>#{pessoaFisicaJuridica.pessoaJuridicaFk.nome}
                                                                    </td>
                                                                    <td>
                                                                        <h:selectOneMenu styleClass="select2_category select2me form-control modal_pf_funcao" p:placeholder="Selecione..." value="#{pessoaFisicaJuridica.funcaoFk}" tabindex="1" converter="entityConverter">
                                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                                            <f:selectItems value="#{templateBean.funcaoList}" var="funcao" itemLabel="#{funcao.funcao}" itemValue="#{funcao}"/>
                                                                        </h:selectOneMenu>
                                                                    </td>
                                                                    <td>
                                                                        <h:inputText class="form-control input-small modal_pf_capital" value="#{pessoaFisicaJuridica.capitalDeParticipacao}" p:placeholder="%" />
                                                                    </td>
                                                                    <td>
                                                                        <h:inputText class="form-control input-small modal_pf_date modal_pf_initial-date" value="#{pessoaFisicaJuridica.dataDeInicio}" p:placeholder="dd/mm/aaaa" />
                                                                    </td>
                                                                    <td>
                                                                        <h:inputText  class="form-control input-small modal_pf_date modal_pf_final-date" p:placeholder="dd/mm/aaaa" value="#{pessoaFisicaJuridica.dataDeTermino}"/>
                                                                    </td>
                                                                    <td>
                                                                        <h:commandLink class="modal_pf_delete">
                                                                            <f:ajax execute="@this" listener="#{templateBean.removerVinculoFisico(status.index)}"/>
                                                                            <i class="glyphicon glyphicon-remove" style="color:red"/> </h:commandLink>
                                                                    </td>
                                                                </tr>
                                                            </ui:repeat>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </h:panelGroup>
                                        <div class="alert alert-danger modal_pf_date-error display-hide">
                                            <button class="close" data-close="alert"></button>
                                        </div>
                                        <h3 class="form-section">Vínculos Sociais</h3>
                                        <div class="row">
                                            <div class="col-md-10">
                                                <div class="form-group">
                                                    <label class="control-label col-md-2">CPF</label>
                                                    <div class="col-md-10">
                                                        <h:inputText p:type="hidden" class="modal_pf_cpfVinculate select2_category form-control" id="modal_pf_pessoafisica" value="#{templateBean.pfVId}"/>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <button  class="btn blue-chambray" id="modal_pf_vinculatePFF">
                                                    <i class="fa fa-plus-circle"></i> Vincular</button>
                                                <h:commandLink styleClass="modal_pf_vinculatePFF">
                                                    <f:ajax event="click" execute="modal_pf_pessoafisica modal_pf_pessoaFisicaFisica" listener="#{templateBean.vincularPessoaFisica()}" render="modal_pf_pessoaFisicaFisica"/>
                                                </h:commandLink>
                                            </div>
                                        </div>
                                        <!--/row-->
                                        <h:commandLink class="modal_pf_table-refresher-pff">
                                            <f:ajax render="modal_pf_pessoaFisicaFisica"/>
                                        </h:commandLink>
                                        <h:panelGroup id="modal_pf_pessoaFisicaFisica">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <table class="table table-striped table-hover table-bordered modal_pf_vinculations">
                                                        <thead>
                                                            <tr>
                                                                <th>
                                                                    CPF
                                                                </th>
                                                                <th>
                                                                    Vínculo <span style="color:#e02222">*</span>
                                                                </th>
                                                                <th style="width:3%">
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody class="modal_pf_rows-pff">
                                                            <ui:repeat value="#{templateBean.pessoaFisicaFisicaList}" var="pessoaFisicaFisica" varStatus="status">
                                                                <ui:param value="#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.cpf.substring(0,3)}.#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.cpf.substring(3,6)}.#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.cpf.substring(6,9)}-#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.cpf.substring(9)}" name="cpf"/>
                                                                <tr>
                                                                    <td>
                                                                        #{cpf eq '..-' ? '-' : cpf}<br/>#{pessoaFisicaFisica.pessoaFisicaSecundariaFk.nome}
                                                                    </td>
                                                                    <td>
                                                                        <h:selectOneMenu styleClass="select2_category select2me form-control modal_pf_vinculosocial" p:placeholder="Selecione..." value="#{pessoaFisicaFisica.vinculoSocialFk}" tabindex="1" converter="entityConverter">
                                                                            <f:selectItem itemLabel="" itemValue=""/>
                                                                            <f:selectItems value="#{templateBean.vinculoSocialList}" var="vinculoSocial" itemLabel="#{vinculoSocial.vinculo}" itemValue="#{vinculoSocial}"/>
                                                                        </h:selectOneMenu>
                                                                    </td>
                                                                    <td>
                                                                        <h:commandLink class="modal_pf_delete-pff">
                                                                            <f:ajax execute="@this" listener="#{templateBean.removerVinculoFisicoSocial(index)}"/>
                                                                            <i class="glyphicon glyphicon-remove" style="color:red"/> </h:commandLink>
                                                                    </td>
                                                                </tr>
                                                            </ui:repeat>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </h:panelGroup>
                                        <h3 class="form-section">Bens</h3>
                                        <div class="alert alert-danger modal_pf_date-bem-error display-hide">
                                            <button class="close" data-close="alert"></button>
                                        </div>
                                        <h:panelGroup id="modal_pf_bem">
                                            <div class="row">
                                                <div class="col-md-8">
                                                    <div class="form-group">
                                                        <label class="control-label col-md-2">Descrição</label>
                                                        <div class="col-md-10">
                                                            <div class="input-icon right">
                                                                <i class="fa"></i>
                                                                <h:inputText class="form-control" id="modal_pf_descricaobem" autocomplete="off" value="#{templateBean.bem.descricao}"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label col-md-3">Tipo </label>
                                                        <div class="col-md-9">
                                                            <h:selectOneMenu class="select2_category select2me form-control modal_pf_tipobem" p:placeholder="Selecione..." id="modal_pf_tipobem" tabindex="1" value="#{templateBean.bem.tipoBemFk}" converter="entityConverter">
                                                                <f:selectItem itemLabel="" itemValue=""/>
                                                                <f:selectItems value="#{templateBean.tipoBemList}" var="tipo" itemLabel="#{tipo.tipo}" itemValue="#{tipo}"/>
                                                            </h:selectOneMenu>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-8">
                                                    <div class="form-group">
                                                        <label class="control-label col-md-2">Endereço</label>
                                                        <div class="col-md-10">
                                                            <div class="input-icon right">
                                                                <i class="fa"></i>
                                                                <h:inputText class="form-control" id="modal_pf_enderecobem" autocomplete="off" value="#{templateBean.bem.endereco}"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label col-md-3">Valor</label>
                                                        <div class="col-md-9">
                                                            <div class="input-icon right">
                                                                <i class="fa"></i>
                                                                <h:inputText class="form-control money" id="modal_pf_valorbem" value="#{templateBean.bem.valor}" converter="maskMoneyConverter"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group">
                                                        <label class="control-label col-md-4">Data de Aquisição</label>
                                                        <div class="col-md-8">
                                                            <div class="input-icon right">
                                                                <i class="fa"></i>
                                                                <h:inputText class="form-control modal_pf_date modal_pf_aquisicao-date" id="modal_pf_aquisicaobem" p:placeholder="dd/mm/aaaa" value="#{templateBean.bem.dataDeAquisicao}"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-2"></div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-md-6">Data de Transferência / Extinção</label>
                                                        <div class="col-md-6">
                                                            <div class="input-icon right">
                                                                <i class="fa"></i>
                                                                <h:inputText class="form-control modal_pf_date modal_pf_extincao-date" id="modal_pf_extincaobem" p:placeholder="dd/mm/aaaa" value="#{templateBean.bem.dataDeTransferenciaOuExtincao}"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </h:panelGroup>
                                        <div class="row">
                                            <div class="col-md-8">

                                            </div>
                                            <div class="col-md-4">
                                                <div class="col-md-8 col-md-offset-3">
                                                    <button type="submit" class="btn blue-chambray" id="modal_pf_add-bem">
                                                        <i class="fa fa-car"></i> Adicionar Bem
                                                    </button>
                                                    <h:commandLink class="modal_pf_add-bem">
                                                        <f:ajax execute="modal_pf_bem" listener="#{templateBean.adicionarBem()}" render="modal_pf_accordion modal_pf_bem"></f:ajax>
                                                    </h:commandLink>
                                                </div>
                                            </div>
                                        </div>
                                        <br/>
                                        <h:commandLink class="modal_pf_bem-refresher">
                                            <f:ajax render="modal_pf_accordion"/>
                                        </h:commandLink>
                                        <h:panelGroup layout="block" class="panel-group accordion" id="modal_pf_accordion">
                                            <ui:repeat value="#{templateBean.bemList}" var="bem" varStatus="status">
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 class="panel-title">
                                                            <a class="accordion-toggle accordion-toggle-styled collapsed" data-toggle="collapse" data-parent="#modal_pf_accordion"  href="#modal_pf_collapse_#{status.index}">
                                                                #{bem.descricao eq null ? 'Bem sem descrição' : bem.descricao} </a>
                                                        </h4>
                                                    </div>
                                                    <div id="modal_pf_collapse_#{status.index}" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div class="row">
                                                                <div class="col-md-8">
                                                                    <div class="form-group">
                                                                        <label class="control-label col-md-2">Descrição</label>
                                                                        <div class="col-md-10">
                                                                            <div class="input-icon right">
                                                                                <i class="fa"></i>
                                                                                <h:inputText class="form-control modal_pf_bemdescricao" autocomplete="off" value="#{bem.descricao}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <div class="form-group">
                                                                        <label class="control-label col-md-3">Tipo </label>
                                                                        <div class="col-md-9">
                                                                            <h:selectOneMenu class="select2_category select2me form-control modal_pf_tipobem" p:placeholder="Selecione..." tabindex="1" value="#{bem.tipoBemFk}" converter="entityConverter">
                                                                                <f:selectItem itemLabel="" itemValue=""/>
                                                                                <f:selectItems value="#{templateBean.tipoBemList}" var="tipo" itemLabel="#{tipo.tipo}" itemValue="#{tipo}"/>
                                                                            </h:selectOneMenu>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-8">
                                                                    <div class="form-group">
                                                                        <label class="control-label col-md-2">Endereço</label>
                                                                        <div class="col-md-10">
                                                                            <div class="input-icon right">
                                                                                <i class="fa"></i>
                                                                                <h:inputText class="form-control modal_pf_enderecobem" autocomplete="off" value="#{bem.endereco}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <div class="form-group">
                                                                        <label class="control-label col-md-3">Valor</label>
                                                                        <div class="col-md-9">
                                                                            <div class="input-icon right">
                                                                                <i class="fa"></i>
                                                                                <h:inputText class="form-control modal_pf_valorbem money" value="#{bem.valor}" converter="maskMoneyConverter"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-4">
                                                                    <div class="form-group">
                                                                        <label class="control-label col-md-4">Data de Aquisição</label>
                                                                        <div class="col-md-8">
                                                                            <div class="input-icon right">
                                                                                <i class="fa"></i>
                                                                                <h:inputText class="form-control modal_pf_aquisicaobem modal_pf_date modal_pf_aquisicao-date" p:placeholder="dd/mm/aaaa" value="#{bem.dataDeAquisicao}"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-2"></div>
                                                                <div class="col-md-6">
                                                                    <div class="form-group">
                                                                        <label class="control-label col-md-6">Data de Transferência / Extinção</label>
                                                                        <div class="col-md-6">
                                                                            <div class="input-icon right">
                                                                                <i class="fa"></i>
                                                                                <h:inputText class="form-control modal_pf_extincaobem modal_pf_date modal_pf_extincao-date" value="#{bem.dataDeTransferenciaOuExtincao}" p:placeholder="dd/mm/aaaa"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-8"></div>
                                                                <div class="col-md-4">
                                                                    <div class="col-md-8 col-md-offset-3">
                                                                        <h:commandLink class="btn blue-chambray modal_pf_delete-bem">
                                                                            <f:ajax execute="@this" listener="#{templateBean.removerBem(status.index)}"/>
                                                                            <i class="glyphicon glyphicon-remove"/> Remover Bem
                                                                        </h:commandLink>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ui:repeat>
                                        </h:panelGroup>
                                    </div>
                                    <h3 class="form-section"></h3> 
                                    <!--/row-->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="col-md-offset-9 col-md-3">
                                                <div class="col-md-5">
                                                    <button type="button" data-dismiss="modal" class="btn blue-chambray">Fechar</button>
                                                </div>
                                                <div class="col-md-7">
                                                    <button type="submit" class="modal_pf_submit-pf btn blue-chambray">
                                                        <i class="fa fa-save"></i> Cadastrar
                                                    </button>
                                                </div>
                                            </div>
                                            <h:commandLink styleClass="modal_pf_register">
                                                <f:ajax execute="@form" listener="#{templateBean.cadastrarPF()}" render="modal_pf_id" />
                                            </h:commandLink>
                                            <h:inputHidden id="modal_pf_id" value="#{templateBean.enderecoPessoaFisica.pessoa.id}"/>
                                        </div>
                                    </div>
                                    <br/> 
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal-dialog -->
            </h:panelGroup>
        </h:panelGroup>
    </h:form>
</ui:composition>
